# uvicorn.toml

# Configura√ß√µes do servidor (Worker Settings)
[server]
host = "0.0.0.0"

# O valor da porta ser√° substitu√≠do pela vari√°vel $PORT do Railway
# Note: O Uvicorn espera o valor como int, mas o --env-file lida com isso
port = 8000 # Use um default aqui, mas o Railway ir√° sobrescrever

# üîë SOLU√á√ÉO DO PROBLEMA DE HTTPS/CORS
# Isto diz ao Uvicorn para confiar nos cabe√ßalhos de proxy (X-Forwarded-Proto)
# O valor '*' permite que ele use o HTTPS fornecido pelo Railway ao gerar URLs
forwarded_allow_ips = "*"

# Configura√ß√µes da aplica√ß√£o (App Settings)
[app]
# Defina o nome do seu m√≥dulo e objeto FastAPI (ex: main:app)
app = "main:app"

# workers = 4 # O Uvicorn, quando iniciado via linha de comando padr√£o, 
             # ignora a contagem de workers. Se voc√™ quiser usar m√∫ltiplos 
             # workers, o Gunicorn √© a ferramenta adequada.